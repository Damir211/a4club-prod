"use strict";function checkCookies(){var cookieDate=localStorage.getItem("cookieDate"),cookieNotification=null;(!cookieDate||+cookieDate+31536e6<Date.now())&&(document.body.insertAdjacentHTML("beforeend",'\n    <div class="cookie show" id="cookie">\n        <div class="container">\n            <div class="cookie__container">\n                <div class="cookie__text">\n                    Для улучшения работы сайта и его взаимодействия с пользователями мы используем файлы cookie. Продолжая работу с сайтом, Вы&nbsp;разрешаете использование cookie-файлов. Вы всегда можете отключить файлы cookie в настройках Вашего браузера.\n                </div>\n                <div class="cookie__button">\n                    Принять\n                </div>\n            </div>\n        </div>\n    </div>\n    '),(cookieNotification=document.getElementById("cookie")).querySelector(".cookie__button").addEventListener("click",(function(){localStorage.setItem("cookieDate",Date.now()),cookieNotification.classList.remove("show")})))}function popupClose(){document.querySelectorAll(".popup").forEach((function(item){item.classList.remove("active")})),document.body.classList.remove("no-scroll")}function popupOpen(selector){var popup=document.querySelector(selector);popup&&(popup.classList.add("active"),document.body.classList.add("no-scroll"))}function validateEmail(email){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(email)}function checkFields(arrElements,btn){var err=!1;arrElements.forEach((function(item){"checkbox"!==item.getAttribute("type")||item.checked?"text"===item.getAttribute("type")&&item.classList.contains("email-validate")?validateEmail(item.value)||(err=!0):0===item.value.length&&(err=!0):err=!0})),err?btn.setAttribute("disabled",!0):btn.removeAttribute("disabled")}checkCookies(),document.querySelectorAll(".popup__close").forEach((function(item){item.addEventListener("click",popupClose)})),document.querySelectorAll(".popup").forEach((function(item){item.addEventListener("click",(function(e){item===e.target&&popupClose()}))})),document.querySelectorAll("[data-popup-open]").forEach((function(item){item.addEventListener("click",(function(){popupOpen("."+item.dataset.popupOpen)}))})),document.querySelector(".header__menu").addEventListener("click",(function(){document.querySelector(".mobile-menu").classList.toggle("active")})),document.querySelectorAll(".mobile-close").forEach((function(item){item.addEventListener("click",(function(){document.querySelector(".mobile-menu").classList.remove("active")}))})),window.addEventListener("DOMContentLoaded",(function(){[].forEach.call(document.querySelectorAll(".tel"),(function(input){var keyCode;function mask(event){event.keyCode&&(keyCode=event.keyCode),this.selectionStart<3&&event.preventDefault();var matrix="+7 (___) ___ ____",i=0,def=matrix.replace(/\D/g,""),val=this.value.replace(/\D/g,""),new_value=matrix.replace(/[_\d]/g,(function(a){return i<val.length?val.charAt(i++)||def.charAt(i):a}));-1!=(i=new_value.indexOf("_"))&&(i<5&&(i=3),new_value=new_value.slice(0,i));var reg=matrix.substr(0,this.value.length).replace(/_+/g,(function(a){return"\\d{1,"+a.length+"}"})).replace(/[+()]/g,"\\$&");(!(reg=new RegExp("^"+reg+"$")).test(this.value)||this.value.length<5||keyCode>47&&keyCode<58)&&(this.value=new_value),"blur"==event.type&&this.value.length<5&&(this.value="")}input.addEventListener("input",mask,!1),input.addEventListener("focus",mask,!1),input.addEventListener("blur",mask,!1),input.addEventListener("keydown",mask,!1)}))})),document.querySelectorAll(".validate-form").forEach((function(item){var elementForm=item.querySelectorAll(".required"),buttonElement=item.querySelector(".popup__button");elementForm.forEach((function(item){"checkbox"===item.getAttribute("type")?item.addEventListener("change",(function(){checkFields(elementForm,buttonElement)})):item.addEventListener("input",(function(){checkFields(elementForm,buttonElement)}))}))}));var pdfLinksArray=document.querySelectorAll("[data-document-src]");function getBodyScrollTop(){return self.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop}pdfLinksArray.forEach((function(item){var url="https://docs.google.com/viewerng/viewer?url="+window.location.href+item.getAttribute("data-document-src")+"&embedded=true";item.setAttribute("href",url)})),document.querySelectorAll("a[href^='#'").forEach((function(link){link.addEventListener("click",(function(e){e.preventDefault();var href=this.getAttribute("href").substring(1),scrollTarget=document.getElementById(href);if(scrollTarget){var topOffset=document.querySelector(".header").offsetHeight+20,offsetPosition=scrollTarget.getBoundingClientRect().top-topOffset;window.scrollBy({top:offsetPosition,behavior:"smooth"})}}))})),window.addEventListener("scroll",(function(){getBodyScrollTop()>0?document.querySelector(".header").classList.add("scrolled"):document.querySelector(".header").classList.remove("scrolled")}));var stepsElement=document.querySelector(".steps"),stepElementOffsetTop=0;function animateSteps(){getBodyScrollTop()+window.innerHeight>stepElementOffsetTop&&(stepsElement.querySelectorAll(".hidden").forEach((function(item,index){setTimeout((function(){item.classList.remove("hidden")}),250*(index+1))})),window.removeEventListener("scroll",animateSteps))}stepsElement&&(stepElementOffsetTop=stepsElement.offsetTop+200),window.addEventListener("scroll",animateSteps);